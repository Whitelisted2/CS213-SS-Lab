<!DOCTYPE html>
<html>
<head>
    <title>Question 2</title>
</head>
<body>
<form>

<div class = "palindrome">
 <h3>(a) Is it a Palindrome?</h3>
 <label for="word">Enter a word:</label> <br>
 <input type="text" name="word" id="word">
 <button onclick="pal()">Submit</button>
 <p id="palResult"> </p>
 <br>
</div>

<div class = "GCD">
 <h3>(b) GCD Calculator</h3>
 <label for="number1">Enter one number:</label> <br>
 <input type="text" name="number1" id="number1"> <br>
 <label for="number2">Enter another number:</label> <br>
 <input type="text" name="number2" id="number2">
 <button onclick="gcd()">Submit</button>
 <p id="gcdResult"> </p>
 <br>
</div>

<div class = "Fibonacci">
 <h3>(c) Fibonacci Generator</h3>
 <label for="fibNum">How many Fibonacci numbers?</label> <br>
 <input type="text" name="fibNum" id="fibNum">
 <button onclick="fib()">Submit</button>
 <p id="fibResult"> </p>
</div>

</form>
    
<script>
function pal(){
     var str = document.getElementById("word").value;
     var lowStr = str.toLowerCase().replace(/[^a-zA-Z0-9]+/g, '');
     // we make the string lowercase, and remove all non-alphanumeric characters. 
     if(lowStr === ""){
      alert("Please Enter A String");
      return false;
     } else if(lowStr.length === 1){
      alert("Yes. It is a palindrome");
      return true;
     } else{
      var i;
      var status = "yes";
      // a VERY rudimentary algorithm to check for palindrome
      for(i = lowStr.length - 1; i >= 0; i--){
       if(lowStr.charAt(i) != lowStr.charAt(lowStr.length - i - 1)){
        status = "no";
        break;
       }
      // while checking, if even one pair of characters deviate, then it comes out with "no" status
      }
      if(status == "yes"){
       alert("Yes. It is a Palindrome");
       return true;
      }
      if(status == "no"){
       alert("No. It is not a Palindrome");
       return false;
      }
     }   
}
function gcd(){
     var num1 = document.getElementById("number1").value;
     var num2 = document.getElementById("number2").value;
     var minNum, t;
     if(num1 == "" || num2 == "")
     {
        alert("Please enter 2 numbers.");
        return;
     }
     n1 = Math.abs(num1);
     n2 = Math.abs(num2);
     if(n1 === n2)
     {
      alert("The GCD of " + num1 + " and " + num2 + " is " + Math.abs(num1));
      return;
     }
     while (n2 > 0) {
     // while n2>0, we divide the divisor by the previous remainder, and get a new remainder. this process repeats until n2 is zero.
        var temp = n2; 
        n2 = n1 % n2;
        n1 = temp;
    }
    // finally, gcd is the last divisor, n1, when n2 becomes zero
    alert("The GCD of " + num1 + " and " + num2 + " is " + n1);
}
function fib(){
     var fibNum = document.getElementById("fibNum").value;
     var num1 = 0;
     var num2 = 1; // first two elements
     var i, nextNum;
     var fibList = [0, 1]; // array implementation for simplicity
     for(i = 0; i < fibNum-2; i++)
     {
      nextNum = num1 + num2;
      num1 = num2; // after getting sum, we "move" them leftwards 
      num2 = nextNum;
      fibList.push(num2); // append to the array
     }
     if(fibNum == 1)
     {
      alert("0"); // a trivial case that the loop can't directly cover
      return;
     }
     if(fibNum == 0)
     {
      alert("if you didn't want any, don't ask lol"); // just in case
      return;
     }
     alert(fibList);
}
</script>
</body>
</html>